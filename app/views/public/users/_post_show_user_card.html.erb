<% if user %>
  <div class="user-card-post-show <%= 'current-user' if user == current_user %>" style="display: flex; flex-direction: column; padding: 20px;">
    <!-- ユーザー画像、ニックネーム、プロフィールを横一列に配置 -->
    <div class="d-flex align-items-center" style="margin-bottom: 10px; width: 100%; height: 100%;">
      <div class="user-image" style="margin-right: 20px;">
        <%= link_to user, class: "post-show-card-link d-flex align-items-center", style: "text-decoration: none;" do %>
          <div class="user-image" style="margin-right: 20px;">
            <div>
              <% if user.profile_image.attached? %>
                <%= image_tag user.get_profile_image(120, 120), class: 'profile-image' %>
              <% else %>
                <%= image_tag 'no_image.jpg', size: '120x120', class: 'profile-image' %>
              <% end %>
            </div>
          </div>

          <div class="user-profile" style="flex-grow: 1;">
            <h3 class="user-nick-name-post-show font-weight-bold" style="word-wrap: break-word; word-break: break-word; overflow-wrap: break-word; margin-bottom: 5px;">
              <%= user.nick_name %>
            </h3>
            <p style="word-wrap: break-word; word-break: break-word; overflow-wrap: break-word;">
              <%= user.profile %>
            </p>
          </div>
        <% end %>
      </div>
    </div>


    <!-- フォロー数、フォロワー数、いいね一覧を横一列に配置 -->
    <div class="d-flex align-items-center justify-content-first">
      <div style="margin-right: 10px;">
        <%= link_to "#{user.followings.count} フォロー", user_followings_path(user), class: "follows-count", title: 'フォローしているUserを見る' %>
      </div>
      <div style="margin-right: 10px;">
        <%= link_to "#{user.followers.count} フォロワー", user_followers_path(user), class: "follows-count", title: 'フォローされているUserを見る' %>
      </div>
      <% if user == current_user %>
        <div>
          <%= link_to '❤いいね一覧', likes_user_path(user), class: 'favo-link', title: 'いいねしている投稿を見る' %>
        </div>
      <% end %>
    </div>
  </div>
<% else %>
  <div class="user-card" style="display: flex; align-items: center; padding: 20px;">
    <!-- 画像を左に配置 -->
    <div class="user-image" style="margin-right: 20px;">
      <%= image_tag 'no_image.jpg', size: '150x150', class: 'profile-image' %>
    </div>

    <!-- ゲスト用テキストを中央に配置 -->
    <div class="guest-info text-center" style="flex-grow: 1; padding: 0 20px;">
      <h5>ゲスト</h5>
      <p class="gest-text">投稿するには</br>
      <p class="gest-text">ログインが必要です</p>
    </div>
  </div>
<% end %>
